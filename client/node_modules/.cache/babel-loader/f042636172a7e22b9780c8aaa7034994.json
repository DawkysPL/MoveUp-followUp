{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Mateusz\\\\Desktop\\\\nokia2\\\\innovativeproject-moveup\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Mateusz\\\\Desktop\\\\nokia2\\\\innovativeproject-moveup\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Mateusz\\\\Desktop\\\\nokia2\\\\innovativeproject-moveup\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Mateusz\\\\Desktop\\\\nokia2\\\\innovativeproject-moveup\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Mateusz\\\\Desktop\\\\nokia2\\\\innovativeproject-moveup\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Mateusz\\\\Desktop\\\\nokia2\\\\innovativeproject-moveup\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Mateusz\\\\Desktop\\\\nokia2\\\\innovativeproject-moveup\\\\client\\\\src\\\\components\\\\UserEvents.jsx\";\nimport React, { Component } from 'react';\nimport { getUserEvents, deleteUserEvent } from './EventFunctions';\nimport jwt_decode from \"jwt-decode\";\nimport Comments from './Comments';\nimport { withStyles } from \"@material-ui/core\";\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Avatar from '@material-ui/core/Avatar';\nimport blue from '@material-ui/core/colors/blue';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Typography from '@material-ui/core/Typography';\n\nvar styles = function styles(theme) {\n  return {\n    container: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    textField: {\n      marginLeft: theme.spacing.unit,\n      marginRight: theme.spacing.unit,\n      width: 200\n    },\n    card: {\n      width: 600,\n      marginTop: theme.spacing.unit,\n      backgroundColor: '#f4fcff'\n    },\n    media: {\n      height: 0,\n      paddingTop: '56.25%' // 16:9\n\n    },\n    expand: {\n      transform: 'rotate(0deg)',\n      marginLeft: 'auto',\n      transition: theme.transitions.create('transform', {\n        duration: theme.transitions.duration.shortest\n      })\n    },\n    expandOpen: {\n      transform: 'rotate(180deg)'\n    },\n    avatar: {\n      backgroundColor: blue[500]\n    }\n  };\n};\n\nvar UserEvents =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserEvents, _Component);\n\n  function UserEvents() {\n    var _this;\n\n    _classCallCheck(this, UserEvents);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserEvents).call(this));\n    _this.state = {\n      events: [],\n      comments: []\n    };\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(UserEvents, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var token = localStorage.usertoken;\n      var decoded = jwt_decode(token);\n      getUserEvents(decoded).then(function (events) {\n        return _this2.setState({\n          events: events\n        });\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(eventId) {\n      localStorage.setItem('userEvent', eventId);\n      this.props.history.push(\"/editEvent\");\n    }\n  }, {\n    key: \"onDelete\",\n    value: function onDelete(eventId) {\n      deleteUserEvent(eventId);\n      window.location.reload();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var classes = this.props.classes;\n      var filteredEvents = this.state.events;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Your events\"), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, filteredEvents.map(function (event) {\n        return React.createElement(\"li\", {\n          key: event.id_event,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(Grid, {\n          container: true,\n          direction: \"row\",\n          justify: \"center\",\n          alignItems: \"center\",\n          spacing: 0,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(Grid, {\n          item: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, React.createElement(Card, {\n          className: classes.card,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(CardHeader, {\n          avatar: React.createElement(Avatar, {\n            \"aria-label\": \"Recipe\",\n            className: classes.avatar,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91\n            },\n            __self: this\n          }, event.id_event),\n          title: event.type_sport,\n          subheader: \"Start date: \" + event.date,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }), React.createElement(CardContent, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          gutterBottom: true,\n          variant: \"h5\",\n          component: \"h2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, event.name_event), React.createElement(Typography, {\n          component: \"p\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, \"Start point: \", event.start_point, \" \", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }), \"Advanced: \", event.advanced, \" \", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }), \"Repetition: \", event.repetition)), React.createElement(CardActions, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, React.createElement(Button, {\n          color: \"primary\",\n          onClick: function onClick() {\n            _this3.onSubmit(event.id_event);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, \"Edit\"), React.createElement(Button, {\n          color: \"secondary\",\n          onClick: function onClick() {\n            _this3.onDelete(event.id_event);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, \"Delete this event\")), React.createElement(Comments, {\n          eventId: event.id_event,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        })))));\n      })));\n    }\n  }]);\n\n  return UserEvents;\n}(Component);\n\nexport default withStyles(styles)(UserEvents);","map":{"version":3,"sources":["C:\\Users\\Mateusz\\Desktop\\nokia2\\innovativeproject-moveup\\client\\src\\components\\UserEvents.jsx"],"names":["React","Component","getUserEvents","deleteUserEvent","jwt_decode","Comments","withStyles","Button","Grid","Card","CardActions","CardContent","Avatar","blue","CardHeader","Typography","styles","theme","container","display","flexWrap","textField","marginLeft","spacing","unit","marginRight","width","card","marginTop","backgroundColor","media","height","paddingTop","expand","transform","transition","transitions","create","duration","shortest","expandOpen","avatar","UserEvents","state","events","comments","onSubmit","bind","token","localStorage","usertoken","decoded","then","setState","eventId","setItem","props","history","push","window","location","reload","classes","filteredEvents","map","event","id_event","type_sport","date","name_event","start_point","advanced","repetition","onDelete"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\nimport {getUserEvents, deleteUserEvent} from './EventFunctions'\r\nimport jwt_decode from \"jwt-decode\"\r\nimport Comments from './Comments'\r\nimport {withStyles} from \"@material-ui/core\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport blue from '@material-ui/core/colors/blue';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst styles = theme => ({\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing.unit,\r\n        marginRight: theme.spacing.unit,\r\n        width: 200,\r\n    },\r\n    card: {\r\n        width: 600,\r\n        marginTop: theme.spacing.unit,\r\n        backgroundColor: '#f4fcff',\r\n    },\r\n    media: {\r\n        height: 0,\r\n        paddingTop: '56.25%', // 16:9\r\n    },\r\n    expand: {\r\n        transform: 'rotate(0deg)',\r\n        marginLeft: 'auto',\r\n        transition: theme.transitions.create('transform', {\r\n            duration: theme.transitions.duration.shortest,\r\n        }),\r\n    },\r\n    expandOpen: {\r\n        transform: 'rotate(180deg)',\r\n    },\r\n    avatar: {\r\n        backgroundColor: blue[500],\r\n    },\r\n});\r\nclass UserEvents extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            events: [],\r\n            comments: []\r\n        }\r\n\r\n        this.onSubmit = this.onSubmit.bind(this)\r\n    }\r\n    componentDidMount(){\r\n        const token = localStorage.usertoken;\r\n        const decoded = jwt_decode(token);\r\n        getUserEvents(decoded)\r\n            .then(events => this.setState({events}))\r\n    }\r\n\r\n    onSubmit(eventId) {\r\n        localStorage.setItem('userEvent', eventId)\r\n        this.props.history.push(`/editEvent`)\r\n    }\r\n\r\n    onDelete(eventId) {\r\n        deleteUserEvent(eventId)\r\n        window.location.reload();\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        let filteredEvents = this.state.events;\r\n        return (\r\n            <div>\r\n                <h1>Your events</h1>\r\n                <ul>\r\n                    {filteredEvents.map(event => {\r\n                            return (\r\n                                <li key={event.id_event}>\r\n                                    <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" spacing={0}>\r\n                                        <Grid item>\r\n                                            <Card className={classes.card}>\r\n                                                <CardHeader\r\n                                                    avatar={\r\n                                                        <Avatar aria-label=\"Recipe\" className={classes.avatar}>\r\n                                                            {event.id_event}\r\n                                                        </Avatar>\r\n                                                    }\r\n                                                    title={event.type_sport}\r\n                                                    subheader={\"Start date: \" + event.date}\r\n\r\n                                                />\r\n                                                <CardContent>\r\n                                                    <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                                                        {event.name_event}\r\n                                                    </Typography>\r\n                                                    <Typography component=\"p\">\r\n                                                        Start point: {event.start_point} <br/>\r\n                                                        Advanced: {event.advanced} <br/>\r\n                                                        Repetition: {event.repetition}\r\n                                                    </Typography>\r\n                                                </CardContent>\r\n                                                <CardActions>\r\n                                    <Button color=\"primary\" onClick={() => {\r\n                                        this.onSubmit(event.id_event)\r\n                                    }}>\r\n                                        Edit\r\n                                    </Button>\r\n                                    <Button color=\"secondary\" onClick={() => {\r\n                                        this.onDelete(event.id_event)\r\n                                    }}>\r\n                                        Delete this event\r\n                                    </Button>\r\n                                                </CardActions>\r\n                                            <Comments eventId={event.id_event}/>\r\n                                            </Card>\r\n                                        </Grid>\r\n                                        </Grid>\r\n                                </li>\r\n                            )}\r\n\r\n                    )}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withStyles(styles)(UserEvents);"]},"metadata":{},"sourceType":"module"}